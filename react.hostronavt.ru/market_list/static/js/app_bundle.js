!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?i(e):t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}window.ee=new EventEmitter;var f=[{author:"Саша Печкин",text:"В четчерг, четвертого числа...",bigText:"в четыре с четвертью часа четыре чёрненьких чумазеньких чертёнка чертили xёрными чернилами чертёж."},{author:"Просто Вася",text:"Считаю, что $ должен стоить 35 рублей!",bigText:"А евро 42!"},{author:"Гость",text:"Бесплатно. Скачать. Лучший сайт - http://localhost:3000",bigText:"На самом деле платно, просто нужно прочитать очень длинное лицензионное соглашение"},{author:"Дюбель",text:"Бум бум бум",bigText:"мазафака бум!"},{author:"Барракуда",text:"Съем всех человеков",bigText:"оставлю только самых тощих"}],h=function(e){function t(e){var n;return r(this,t),(n=c(this,u(t).call(this,e))).state={visible:!1},n.readmoreClick=n.readmoreClick.bind(i(n)),n.closeClick=n.closeClick.bind(i(n)),n}return l(t,React.Component),o(t,null,[{key:"propTypes",value:function(){React.propTypes.shape({author:React.propTypes.string.isRequired,text:React.propTypes.string.isRequired,bigText:React.propTypes.string.isRequired})}}]),o(t,[{key:"render",value:function(){var e=this.props.data,t=this.state.visible;return React.createElement("div",{className:"article"},React.createElement("p",{className:"news__author"},e.author,":"),React.createElement("p",{className:"news__text"},e.text),React.createElement("a",{href:"#",className:"news__readmore "+(t?"none":""),onClick:this.readmoreClick},"Подробнее"),React.createElement("p",{className:"news__big-text "+(t?"":"none")},e.bigText),React.createElement("a",{href:"#",onClick:this.closeClick,className:"news__close "+(t?"":"none")},"x"))}},{key:"readmoreClick",value:function(e){e.preventDefault(),this.setState({visible:!0})}},{key:"closeClick",value:function(e){e.preventDefault(),this.setState({visible:!1})}}]),t}(),p=function(e){function t(){return r(this,t),c(this,u(t).apply(this,arguments))}return l(t,React.Component),o(t,[{key:"render",value:function(){var e,t=this.props.data;return e=t.length>0?t.map((function(e,t){return React.createElement("div",{className:"news__item",key:t},React.createElement(h,{data:e}))})):React.createElement("p",null,"К сожалению новостей нет"),React.createElement("div",{className:"news"},e,React.createElement("strong",{className:t.length>0?"news__count":"none"},"Всего новостей: ",t.length))}}],[{key:"propTypes",value:function(){React.propTypes.array.isRequired}}]),t}(),d=function(e){function t(e){var n;return r(this,t),(n=c(this,u(t).call(this,e))).state={agreeNotChecked:!0,authorIsEmpty:!0,textIsEmpty:!0},n.changeValue=n.changeValue.bind(i(n)),n.onBtnClick=n.onBtnClick.bind(i(n)),n.changeCheckbox=n.changeCheckbox.bind(i(n)),n.changeAuthor=n.changeAuthor.bind(i(n)),n.changeText=n.changeText.bind(i(n)),n}return l(t,React.Component),o(t,[{key:"changeValue",value:function(e){this.setState({value:e.target.value})}},{key:"onBtnClick",value:function(e){e.preventDefault();var t=[{author:ReactDOM.findDOMNode(this.refs.author).value,text:ReactDOM.findDOMNode(this.refs.text).value,bigText:"..."}];window.ee.emit("News.add",t)}},{key:"changeCheckbox",value:function(e){this.setState({agreeNotChecked:!this.state.agreeNotChecked})}},{key:"changeText",value:function(e){e.target.value.trim()?this.setState({textIsEmpty:!1}):this.setState({textIsEmpty:!0})}},{key:"changeAuthor",value:function(e){e.target.value.trim()?this.setState({authorIsEmpty:!1}):this.setState({authorIsEmpty:!0})}},{key:"componentDidMount",value:function(){ReactDOM.findDOMNode(this.refs.author).focus()}},{key:"render",value:function(){var e=this.state.agreeNotChecked,t=this.state.authorIsEmpty,n=this.state.textIsEmpty;return React.createElement("p",null,React.createElement("input",{className:"test-input",ref:"author",defaultValue:"",onChange:this.changeAuthor,placeholder:"автор новости"})," ",React.createElement("br",null),React.createElement("textarea",{onChange:this.changeText,ref:"text",cols:"30",rows:"10",placeholder:"текст новости",defaultValue:""}),React.createElement("br",null),React.createElement("label",null,React.createElement("input",{type:"checkbox",onChange:this.changeCheckbox,defaultChecked:!1,name:"",id:"",ref:"checkrule"})," Я согласен с правилами "),React.createElement("button",{onClick:this.onBtnClick,ref:"alert_button",disabled:e||t||n},"окей "))}}]),t}(),m=function(e){function t(e){var n;return r(this,t),(n=c(this,u(t).call(this,e))).state={counter:0,news:f},n.counterPlus=n.counterPlus.bind(i(n)),n}return l(t,React.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;window.ee.addListener("News.add",(function(t){var n=t.concat(e.state.news);e.setState({news:n})}))}},{key:"componentWillUnmount",value:function(){window.ee.removeListener("News.add")}},{key:"render",value:function(){return React.createElement("div",{className:"app"},React.createElement(d,null),React.createElement("h3",null,"Новости"),React.createElement(p,{data:this.state.news}))}},{key:"counterPlus",value:function(e){e.preventDefault(),this.setState({counter:++this.state.counter})}}]),t}();ReactDOM.render(React.createElement(m,null),document.getElementById("root"))}]);